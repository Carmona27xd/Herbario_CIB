<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Herbario CIB - Registro</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    
    <!-- Estilos personalizados unificados -->
    <style>
        body {
            background-color: #f4f9f4; /* Fondo temático */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* Barra de navegación */
        .header-nav {
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        /* Encabezado temático */
        .dashboard-header {
            background-color: #2c5c3b; /* Verde oscuro */
            color: white;
            padding: 2.5rem 2rem;
            border-radius: 0.8rem;
            margin-bottom: 2rem;
        }

        /* Tarjeta del formulario */
        .form-card {
            border: none;
            border-radius: 0.8rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            background-color: white;
            padding: 2.5rem;
        }

        /* Botón personalizado */
        .btn-primary-custom {
            background-color: #2c5c3b;
            border-color: #2c5c3b;
            color: white;
            padding: 0.7rem;
            font-weight: 600;
        }
        .btn-primary-custom:hover {
            background-color: #1e402a;
            border-color: #1e402a;
        }

        .form-label {
            font-weight: 600;
            color: #495057;
        }
        
        .login-link a {
            color: #2c5c3b;
            text-decoration: none;
            font-weight: 600;
        }
        .login-link a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

    <!-- Barra de Navegación Superior -->
    <nav class="navbar navbar-expand-lg header-nav sticky-top">
        <div class="container-fluid" style="max-width: 900px;">
            <a class="navbar-brand fw-bold" href="#" style="color: #2c5c3b;">
                <i class="bi bi-flower1"></i> Herbario Virtual
            </a>
        </div>
    </nav>

    <!-- Contenedor Principal -->
    <div class="container my-5" style="max-width: 700px;">
        
        <!-- Encabezado -->
        <div class="dashboard-header text-center">
            <h1 class="display-5 fw-bold">
                <i class="bi bi-person-plus"></i> Registro de Usuario
            </h1>
            <p class="lead mb-0">Crea tu cuenta para acceder al Herbario CIB</p>
        </div>

        <!-- Tarjeta del Formulario -->
        <div class="form-card">
            <form id="registerForm">
                
                <!-- Sección Nombres -->
                <div class="mb-3">
                    <label for="name" class="form-label">Nombres</label>
                    <input type="text" class="form-control bg-light" name="name" id="name"
                           pattern="^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$" placeholder="Ej. Juan Carlos" required>
                </div>

                <!-- Sección Apellidos -->
                <div class="row g-3 mb-3">
                    <div class="col-md-6">
                        <label for="first_surname" class="form-label">Primer apellido</label>
                        <input type="text" class="form-control bg-light" name="first_surname" id="first_surname" 
                               pattern="^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$" placeholder="Ej. Pérez" required>
                    </div>
                    <div class="col-md-6">
                        <label for="second_surname" class="form-label">Segundo apellido</label>
                        <input type="text" class="form-control bg-light" name="second_surname" id="second_surname" 
                               pattern="^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$" placeholder="Ej. López">
                    </div>
                </div>

                <!-- Correo -->
                <div class="mb-3">
                    <label for="email" class="form-label">Correo electrónico</label>
                    <div class="input-group">
                        <span class="input-group-text bg-light"><i class="bi bi-envelope"></i></span>
                        <input type="email" class="form-control bg-light" name="email" id="email" placeholder="correo@ejemplo.com" required>
                    </div>
                </div>

                <!-- Contraseñas -->
                <div class="row g-3 mb-4">
                    <div class="col-md-6">
                        <label for="password" class="form-label">Contraseña</label>
                        <input type="password" class="form-control bg-light" name="password" id="password" required>
                    </div>
                    <div class="col-md-6">
                        <label for="confirmPassword" class="form-label">Confirmar contraseña</label>
                        <input type="password" class="form-control bg-light" name="confirmPassword" id="confirmPassword" required>
                    </div>
                </div>

                <!-- Términos -->
                <div class="mb-4 form-check">
                    <input type="checkbox" class="form-check-input" id="acceptTerms">
                    <label class="form-check-label" for="acceptTerms">
                        Acepto las <a href="https://www.uv.mx/transparencia/datospersonales/avisos-privacidad/" style="color:#2c5c3b;">políticas de privacidad</a>
                    </label>
                </div>

                <!-- Botón -->
                <div class="d-grid mb-4">
                    <button class="btn btn-primary-custom rounded-3" type="submit">
                        Registrarme
                    </button>
                </div>

                <!-- Link Login -->
                <div class="text-center login-link">
                    <p class="mb-0">¿Ya estás registrado? <a href="login.html" id="logInLink">Iniciar sesión</a></p>
                </div>
            </form>
        </div>
    </div>

    <!-- ================= MODALES (Estilizados) ================= -->

    <!-- Modal: Correo ya existe -->
    <div class="modal fade" id="emailAlreadyExists" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 shadow">
                <div class="modal-header bg-danger text-white border-0">
                    <h5 class="modal-title"><i class="bi bi-exclamation-octagon-fill me-2"></i>Error de Registro</h5>
                </div>
                <div class="modal-body text-center p-4">
                    <p class="fs-5">El correo electrónico ya se encuentra registrado.</p>
                </div>
                <div class="modal-footer border-0 justify-content-center">
                    <button class="btn btn-danger px-4" data-bs-dismiss="modal">Intentar con otro</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Información Faltante -->
    <div class="modal fade" id="missingData" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 shadow">
                <div class="modal-header bg-warning text-dark border-0">
                    <h5 class="modal-title"><i class="bi bi-exclamation-triangle-fill me-2"></i>Campos Vacíos</h5>
                </div>
                <div class="modal-body text-center p-4">
                    <p class="fs-5">Por favor ingresa toda la información solicitada.</p>
                </div>
                <div class="modal-footer border-0 justify-content-center">
                    <button class="btn btn-dark px-4" data-bs-dismiss="modal">Entendido</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Contraseñas no coinciden -->
    <div class="modal fade" id="passwordMatch" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 shadow">
                <div class="modal-header bg-danger text-white border-0">
                    <h5 class="modal-title"><i class="bi bi-key-fill me-2"></i>Error de Contraseña</h5>
                </div>
                <div class="modal-body text-center p-4">
                    <p class="fs-5">Las contraseñas no coinciden.</p>
                </div>
                <div class="modal-footer border-0 justify-content-center">
                    <button class="btn btn-danger px-4" data-bs-dismiss="modal">Corregir</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Términos no aceptados -->
    <div class="modal fade" id="termsModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 shadow">
                <div class="modal-header bg-warning text-dark border-0">
                    <h5 class="modal-title"><i class="bi bi-file-earmark-text-fill me-2"></i>Términos y Condiciones</h5>
                </div>
                <div class="modal-body text-center p-4">
                    <p class="fs-5">Debes aceptar los términos y condiciones para continuar.</p>
                </div>
                <div class="modal-footer border-0 justify-content-center">
                    <button class="btn btn-dark px-4" data-bs-dismiss="modal">Aceptar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Contraseña inválida (Formato) -->
    <div class="modal fade" id="invalidPassword" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 shadow">
                <div class="modal-header bg-secondary text-white border-0">
                    <h5 class="modal-title"><i class="bi bi-shield-lock me-2"></i>Seguridad de Contraseña</h5>
                </div>
                <div class="modal-body text-center p-4">
                    <p>La contraseña debe tener al menos:</p>
                    <ul class="text-start d-inline-block">
                        <li>8 caracteres</li>
                        <li>Una mayúscula</li>
                        <li>Una minúscula</li>
                        <li>Un número</li>
                    </ul>
                </div>
                <div class="modal-footer border-0 justify-content-center">
                    <button class="btn btn-secondary px-4" data-bs-dismiss="modal">Entendido</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Éxito (Verifica tu correo) -->
    <div class="modal fade" id="success" tabindex="-1" aria-hidden="true" data-bs-backdrop="static">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 shadow">
                <div class="modal-header bg-success text-white border-0">
                    <h5 class="modal-title"><i class="bi bi-envelope-check-fill me-2"></i>Verifica tu correo</h5>
                </div>
                <div class="modal-body text-center p-4">
                    <p class="fs-5">Se te ha enviado un enlace de verificación a tu correo electrónico.</p>
                    <p class="text-muted small">Por favor revisa tu bandeja de entrada (y spam).</p>
                </div>
                <div class="modal-footer border-0 justify-content-center">
                    <!-- ID IMPORTANTE: successButton -->
                    <button class="btn btn-success px-5" id="successButton" data-bs-dismiss="modal">Aceptar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="JavaScript/registerController.js"></script>
</body>
</html>